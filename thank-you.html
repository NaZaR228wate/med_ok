<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–î—è–∫—É—î–º–æ –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî med_ok</title>

  <!-- Indexing: —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —Å–ª—É–∂–±–æ–≤–∞ -->
  <meta name="robots" content="noindex,nofollow" />

  <!-- Basic brand / icons -->
  <link rel="icon" href="assets/medok-wordmark.png" />
  <meta name="theme-color" content="#087B04" />
  <link rel="manifest" href="manifest.webmanifest" />

  <!-- OG (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –∞–ª–µ —Ö–∞–π –±—É–¥–µ) -->
  <meta property="og:title" content="–î—è–∫—É—î–º–æ –∑–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî med_ok" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://medok.ink/assets/prod-mixed.webp" />

  <style>
    :root{
      --bg:#fff9f2; --card:#ffffff; --text:#222; --muted:#666;
      --accent:#f5b942; --accent-2:#ffcf66; --ok:#2ecc71;
      --border:#eee; --shadow:0 10px 30px rgba(0,0,0,.06)
    }
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,sans-serif;margin:0;color:var(--text);background:linear-gradient(160deg,var(--bg) 0%,#fff 60%)}
    .wrap{max-width:760px;margin:48px auto;padding:0 20px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);padding:28px}
    .hero{display:flex;gap:18px;align-items:center;margin-bottom:6px}
    .hgroup h1{margin:0;font-size:26px}
    .hgroup p{margin:6px 0 0;color:var(--muted)}
    .mark{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,var(--accent-2),var(--accent));color:#000;padding:6px 10px;border-radius:10px;font-weight:600}
    .code{display:inline-flex;align-items:center;gap:10px;user-select:text;background:#fff7dc;border:1px dashed #f0c153;border-radius:12px;padding:6px 10px;font-variant-numeric:tabular-nums}
    .row{display:flex;gap:12px;flex-wrap:wrap}.row>div{flex:1 1 220px}
    .section{margin-top:20px}.section h3{margin:0 0 10px;font-size:18px}
    .list{margin:8px 0 0 16px}.list li{margin:4px 0}
    .actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border-radius:12px;text-decoration:none;border:1px solid var(--border);background:#fff;color:#111;transition:.2s transform,.2s box-shadow}
    .btn:hover{transform:translateY(-1px);box-shadow:0 8px 20px rgba(0,0,0,.06)}
    .btn.primary{background:var(--ok);color:#fff;border-color:transparent}
    .btn.copy{background:#fffdf3}
    .check{width:54px;height:54px;min-width:54px;border-radius:50%;background:radial-gradient(65% 65% at 50% 50%,#d5ffd5 0%,#c4f3c4 100%);display:grid;place-items:center;box-shadow:0 8px 24px rgba(46,204,113,.35)}
    .check svg{width:30px;height:30px;stroke:#1e9e54;stroke-width:3;fill:none;stroke-linecap:round;stroke-linejoin:round}
    .draw{stroke-dasharray:60;stroke-dashoffset:60;animation:draw .7s .15s ease forwards}
    @keyframes draw{to{stroke-dashoffset:0}}
    .muted{color:var(--muted)}
    .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:12px;opacity:0;pointer-events:none;transition:.25s opacity;font-size:14px}
    .toast.show{opacity:1}
  </style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="hero">
      <div class="check">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path class="draw" d="M20 6L9 17l-5-5"/></svg>
      </div>
      <div class="hgroup">
        <span class="mark">–î—è–∫—É—î–º–æ! –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ</span>
        <h1>–ú–∏ –∑–≤‚Äô—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º, —â–æ–± —É—Ç–æ—á–Ω–∏—Ç–∏ –¥–µ—Ç–∞–ª—ñ</h1>
      </div>
    </div>

    <p class="muted" style="margin:8px 0 14px">–ó–±–µ—Ä–µ–∂—ñ—Ç—å –Ω–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Äî –π–æ–≥–æ –ø–æ–ø—Ä–æ—Å—è—Ç—å –ø—Ä–∏ —É—Ç–æ—á–Ω–µ–Ω–Ω—ñ.</p>
    <p class="code">
      <strong>–ù–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</strong>
      <span id="orderId">‚Äî</span>
      <button id="copyBtn" class="btn copy" style="padding:6px 10px">–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏</button>
    </p>

    <div id="summary" class="section" hidden>
      <h3>–ü—ñ–¥—Å—É–º–æ–∫</h3>
      <div class="row">
        <div><b>–Ü–º‚Äô—è:</b> <span id="name"></span></div>
        <div><b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> <span id="phone"></span></div>
        <div><b>–û–ø–ª–∞—Ç–∞:</b> <span id="pay"></span></div>
      </div>
      <div class="row">
        <div><b>–ú—ñ—Å—Ç–æ (–ù–ü):</b> <span id="city"></span></div>
        <div><b>–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è:</b> <span id="wh"></span></div>
      </div>
      <div id="items" class="section"></div>
      <div id="total" class="section"></div>
    </div>

    <div class="actions">
      <a class="btn primary" href="index.html">–î–æ –∫–∞—Ç–∞–ª–æ–≥—É –º–µ–¥—É</a>
      <a class="btn" href="index.html#products">–©–µ –±–∞–Ω–æ—á–∫—É üçØ</a>
    </div>
  </div>
</div>

<div id="toast" class="toast">–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ ‚úÖ</div>

<script>
(function(){
  // 1) –í–∏—Ç—è–≥—É—î–º–æ orderId –∑ URL
  const params = new URLSearchParams(location.search);
  const orderId = params.get('order') || '‚Äî';
  document.getElementById('orderId').textContent = orderId;

  // 2) –ü–æ–∫–∞–∑—É—î–º–æ –ø—ñ–¥—Å—É–º–æ–∫, —è–∫—â–æ —Ñ—Ä–æ–Ω—Ç –π–æ–≥–æ –∑–±–µ—Ä—ñ–≥
  try{
    const data = JSON.parse(sessionStorage.getItem('medok_last_order') || 'null');
    if(data){
      const $ = (id)=>document.getElementById(id);
      $('summary').hidden = false;
      $('name').textContent  = data.name || '';
      $('phone').textContent = data.phone || '';
      $('pay').textContent   = data.pay === 'prepay' ? '–ü–æ–≤–Ω–∞ –ø–µ—Ä–µ–¥–æ–ø–ª–∞—Ç–∞' : '–ù–∞–∫–ª–∞–¥–µ–Ω–∏–π –ø–ª–∞—Ç—ñ–∂';
      $('city').textContent  = data.np_city || '';
      $('wh').textContent    = data.np_warehouse || '';

      const items = document.getElementById('items');
      if (data.from_cart && Array.isArray(data.cart)) {
        const h = document.createElement('h3'); h.textContent='–¢–æ–≤–∞—Ä–∏';
        const ul = document.createElement('ul'); ul.className='list';
        data.cart.forEach(i=>{ const li=document.createElement('li'); li.textContent=`${i.type} ‚Äî ${i.qty} –ª √ó ${i.count} —à—Ç`; ul.appendChild(li); });
        items.append(h, ul);
        const sum = (typeof data.total === 'number') ? data.total : null;
        if (sum != null) document.getElementById('total').innerHTML = `<b>–†–∞–∑–æ–º:</b> ${sum} –≥—Ä–Ω`;
      } else if (data.honey){
        const h=document.createElement('h3'); h.textContent='–¢–æ–≤–∞—Ä';
        const p=document.createElement('p'); p.textContent=`${data.honey}, –∫—ñ–ª—å–∫—ñ—Å—Ç—å: ${data.qty} –ª`;
        items.append(h,p);
      }
      // —á–∏—Å—Ç–∏–º–æ, —â–æ–± –Ω–µ –∑–∞–ª–∏—à–∞–ª–æ—Å—å –ø—ñ—Å–ª—è F5
      sessionStorage.removeItem('medok_last_order');
    }
  }catch{}

  // 3) –ö–Ω–æ–ø–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
  document.getElementById('copyBtn')?.addEventListener('click', async ()=>{
    try{
      await navigator.clipboard.writeText(document.getElementById('orderId').textContent.trim());
      const toast=document.getElementById('toast');
      toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'),1200);
    }catch{}
  });
})();
</script>

<script>
  if ('serviceWorker' in navigator) { navigator.serviceWorker.register('./sw.js').catch(()=>{}); }
</script>
</body>
</html>