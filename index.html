<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>med_ok ‚Äî –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π –º–µ–¥ –∑ –ø–∞—Å—ñ–∫–∏</title>
  <link rel="stylesheet" href="styles.css?v=12">
  <meta name="description" content="–ù–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π –º–µ–¥ –≤—ñ–¥ –¥—ñ–¥—É—Å—è‚Äë–ø–∞—Å—ñ—á–Ω–∏–∫–∞ –∑ 40-—Ä—ñ—á–Ω–∏–º –¥–æ—Å–≤—ñ–¥–æ–º. –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ. –ú–∏ –≤ –ö–∏—ó–≤—Å—å–∫—ñ–π –æ–±–ª., –ë–æ—Ä–∏—Å–ø—ñ–ª—å—Å—å–∫–∏–π —Ä–∞–π–æ–Ω." />
  <meta property="og:title" content="med_ok ‚Äî –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π –º–µ–¥ –∑ –ø–∞—Å—ñ–∫–∏" />
  <meta property="og:description" content="–ß–µ—Å–Ω–∏–π –º–µ–¥ —Å–≤–æ—ó–º–∏ —Ä—É–∫–∞–º–∏. –ó–∞–º–æ–≤–ª—è–π—Ç–µ –Ω–∞–ø—Ä—è–º—É –∑ –ø–∞—Å—ñ–∫–∏. –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ." />
  <meta property="og:type" content="website" />
</head>
<body>
<a class="visually-hidden" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É</a>

<header>
  <div class="container nav">
    <a class="brand" href="index.html" aria-label="–ù–∞ –≥–æ–ª–æ–≤–Ω—É">
      <svg viewBox="0 0 64 64" aria-hidden="true" focusable="false">
        <path fill="#f4b400" d="M22 10h20l10 12v20l-10 12H22L12 42V22z"/>
        <path fill="#fff" opacity=".6" d="M26 18h12l6 7v14l-6 7H26l-6-7V25z"/>
      </svg>
      <span>med_ok</span>
    </a>

    <!-- –ë—É—Ä–≥–µ—Ä -->
    <button class="menu-toggle" id="menu-toggle" aria-expanded="false" aria-controls="primary-nav">
      <span class="menu-toggle__bar"></span>
      <span class="menu-toggle__bar"></span>
      <span class="menu-toggle__bar"></span>
      <span class="visually-hidden">–ú–µ–Ω—é</span>
    </button>

    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
    <nav id="primary-nav" data-open="false" aria-hidden="true">
      <a href="#products">–ü—Ä–æ–¥—É–∫—Ü—ñ—è</a>
      <a href="#about">–ü—Ä–æ –ø–∞—Å—ñ–∫—É</a>
      <a href="#why">–ß–æ–º—É –º–∏</a>
      <!-- –ö–æ—à–∏–∫ —É —à–∞–ø—Ü—ñ -->
      <button id="cartBtn" class="cta" style="background:#111;color:#fff;position:relative;">
        üõí –ö–æ—à–∏–∫
        <span id="cartQtyBadge" style="position:absolute;top:-8px;right:-8px;background:#f4b400;color:#111;border-radius:999px;padding:2px 7px;font-weight:800;font-size:12px;min-width:22px;text-align:center;display:none;">0</span>
      </button>
      <a class="cta" href="order.html">–ó–∞–º–æ–≤–∏—Ç–∏</a>
    </nav>
  </div>
</header>

<main id="main">
  <!-- HERO —Å–ª–∞–π–¥–µ—Ä -->
  <section class="hero-slider" id="hero">
    <!-- –ê–∫–∞—Ü—ñ—è -->
    <article class="slide active" data-flavor="acacia" aria-label="–ê–∫–∞—Ü—ñ—è">
      <div class="left">
        <h1 class="bigword">–ê–ö–ê–¶–Ü–Ø</h1>
        <div class="subtitle">–ù—ñ–∂–Ω–∏–π –∞–∫–∞—Ü—ñ—î–≤–∏–π –º–µ–¥ ‚Äî –¥–æ–≤–≥–æ —Ä—ñ–¥–∫–∏–π, —ñ–¥–µ–∞–ª—å–Ω–∏–π –¥–ª—è —á–∞—é</div>
        <div class="hero-actions">
          <a class="ghost" href="tel:+380637825176">üìû +380 (63) 782 51 76</a>
          <a class="ghost" href="viber://chat?number=%2B380637825176">üí¨ Viber</a>
        </div>
      </div>
    </article>

    <!-- –õ–∏–ø–∞ -->
    <article class="slide" data-flavor="linden" aria-label="–õ–∏–ø–æ–≤–∏–π">
      <div class="left">
        <h1 class="bigword">–õ–ò–ü–ê</h1>
        <div class="subtitle">–ó–∞–ø–∞—à–Ω–∏–π –ª–∏–ø–æ–≤–∏–π –º–µ–¥ ‚Äî –∫–ª–∞—Å–∏–∫–∞ –∑ –¥–∏—Ç–∏–Ω—Å—Ç–≤–∞</div>
        <div class="hero-actions">
          <a class="ghost" href="tel:+380637825176">üìû +380 (63) 782 51 76</a>
          <a class="ghost" href="viber://chat?number=%2B380637825176">üí¨ Viber</a>
        </div>
      </div>
    </article>

    <!-- –°–æ–Ω—è—à–Ω–∏–∫ -->
    <article class="slide" data-flavor="sunflower" aria-label="–°–æ–Ω—è—à–Ω–∏–∫–æ–≤–∏–π">
      <div class="left">
        <h1 class="bigword">–°–û–ù–Ø–®–ù–ò–ö</h1>
        <div class="subtitle">–ù–∞—Å–∏—á–µ–Ω–∏–π —Å–º–∞–∫ —Ç–∞ —à–≤–∏–¥–∫–∞ –∫—Ä–∏—Å—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è</div>
        <div class="hero-actions">
          <a class="ghost" href="tel:+380637825176">üìû +380 (63) 782 51 76</a>
          <a class="ghost" href="viber://chat?number=%2B380637825176">üí¨ Viber</a>
        </div>
      </div>
    </article>

    <button class="navbtn prev" id="prev" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π">‚Äπ</button>
    <button class="navbtn next" id="next" aria-label="–ù–∞—Å—Ç—É–ø–Ω–∏–π">‚Ä∫</button>

    <a class="hero-cta" href="order.html">üçØ –•–û–ß–£ –ë–ê–ù–û–ß–ö–£!</a>
  </section>

  <!-- –ü–†–û–î–£–ö–¶–Ü–Ø -->
  <section class="container" id="products">
    <h2>–ü—Ä–æ–¥—É–∫—Ü—ñ—è</h2>

    <div class="products-grid">
      <!-- –†—ñ–∑–Ω–æ—Ç—Ä–∞–≤‚Äô—è -->
      <article class="product-card reveal">
        <figure class="prod-figure">
          <img class="prod-img" src="assets/prod-mixed.jpg" alt="–ú–µ–¥ —Ä—ñ–∑–Ω–æ—Ç—Ä–∞–≤‚Äô—è">
          <span class="badge">–∫–≤—ñ—Ç–∫–æ–≤–∏–π –±—É–∫–µ—Ç</span>
          <span class="price-badge">–≤—ñ–¥ ‚Ç¥140</span>
        </figure>
        <div class="product-body">
          <h3 class="product-title">–†—ñ–∑–Ω–æ—Ç—Ä–∞–≤‚Äô—è</h3>
          <ul class="p-bullets">
            <li>–ö–≤—ñ—Ç–∫–æ–≤–∏–π –±—É–∫–µ—Ç —ñ–∑ –ª—É–≥—ñ–≤ —ñ –≥–∞—ó–≤</li>
            <li>–ó–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∏–π —Å–º–∞–∫, —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π</li>
          </ul>
          <div class="product-bottom">
            <button class="btn addToCart" data-type="–†—ñ–∑–Ω–æ—Ç—Ä–∞–≤‚Äô—è" data-qty="1">–£ –∫–æ—à–∏–∫</button>
          </div>
        </div>
      </article>

      <!-- –õ–∏–ø–æ–≤–∏–π -->
      <article class="product-card reveal">
        <figure class="prod-figure">
          <img class="prod-img" src="assets/prod-linden.jpg" alt="–õ–∏–ø–æ–≤–∏–π –º–µ–¥">
          <span class="badge">–∫–ª–∞—Å–∏–∫–∞</span>
          <span class="price-badge">–≤—ñ–¥ ‚Ç¥150</span>
        </figure>
        <div class="product-body">
          <h3 class="product-title">–õ–∏–ø–∞</h3>
          <ul class="p-bullets">
            <li>–ó–∞–ø–∞—à–Ω–∏–π, –Ω–∞—Å–∏—á–µ–Ω–∏–π –∞—Ä–æ–º–∞—Ç</li>
            <li>–î–æ–±—Ä–µ –¥–ª—è —á–∞—é —Ç–∞ –≤–∏–ø—ñ—á–∫–∏</li>
          </ul>
          <div class="product-bottom">
            <button class="btn addToCart" data-type="–õ–∏–ø–æ–≤–∏–π" data-qty="1">–£ –∫–æ—à–∏–∫</button>
          </div>
        </div>
      </article>

      <!-- –ê–∫–∞—Ü—ñ—è -->
      <article class="product-card reveal">
        <figure class="prod-figure">
          <img class="prod-img" src="assets/prod-acacia.jpg" alt="–ê–∫–∞—Ü—ñ—î–≤–∏–π –º–µ–¥">
          <span class="badge">–Ω—ñ–∂–Ω–∏–π</span>
          <span class="price-badge">–≤—ñ–¥ ‚Ç¥170</span>
        </figure>
        <div class="product-body">
          <h3 class="product-title">–ê–∫–∞—Ü—ñ—è</h3>
          <ul class="p-bullets">
            <li>–î–æ–≤–≥–æ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ä—ñ–¥–∫–∏–º</li>
            <li>–î–µ–ª—ñ–∫–∞—Ç–Ω–∏–π –∞—Ä–æ–º–∞—Ç –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ —á–∞—é</li>
          </ul>
          <div class="product-bottom">
            <button class="btn addToCart" data-type="–ê–∫–∞—Ü—ñ—è" data-qty="1">–£ –∫–æ—à–∏–∫</button>
          </div>
        </div>
      </article>

      <!-- –°–æ–Ω—è—à–Ω–∏–∫–æ–≤–∏–π -->
      <article class="product-card reveal">
        <figure class="prod-figure">
          <img class "prod-img" src="assets/prod-sunflower.jpg" alt="–°–æ–Ω—è—à–Ω–∏–∫–æ–≤–∏–π –º–µ–¥">
          <span class="badge">–Ω–∞—Å–∏—á–µ–Ω–∏–π</span>
          <span class="price-badge">–≤—ñ–¥ ‚Ç¥130</span>
        </figure>
        <div class="product-body">
          <h3 class="product-title">–°–æ–Ω—è—à–Ω–∏–∫–æ–≤–∏–π</h3>
          <ul class="p-bullets">
            <li>–Ø—Å–∫—Ä–∞–≤–∏–π —Å–º–∞–∫, —à–≤–∏–¥–∫–∞ –∫—Ä–∏—Å—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è</li>
            <li>–°—É–ø–µ—Ä –¥–æ —Ç–æ—Å—Ç—ñ–≤ —ñ –¥–µ—Å–µ—Ä—Ç—ñ–≤</li>
          </ul>
          <div class="product-bottom">
            <button class="btn addToCart" data-type="–°–æ–Ω—è—à–Ω–∏–∫–æ–≤–∏–π" data-qty="1">–£ –∫–æ—à–∏–∫</button>
          </div>
        </div>
      </article>
    </div>
  </section>

  <!-- –ü–†–û –ü–ê–°–Ü–ö–£ -->
  <section class="container" id="about">
    <h2>–ü—Ä–æ –ø–∞—Å—ñ–∫—É</h2>
    <div class="grid">
      <div class="col-12 card">
        <p><b>–ù–∞—à –ø–∞—Å—ñ—á–Ω–∏–∫ ‚Äî –¥—ñ–¥—É—Å—å —ñ–∑ 40‚Äë—Ä—ñ—á–Ω–∏–º –¥–æ—Å–≤—ñ–¥–æ–º.</b> –í—ñ–Ω –ø—ñ–∫–ª—É—î—Ç—å—Å—è –ø—Ä–æ –±–¥–∂—ñ–ª, –ø—ñ–¥—Ç—Ä–∏–º—É—î —á–∏—Å—Ç–æ—Ç—É —É –≤—É–ª–∏–∫–∞—Ö —Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂—É—î –Ω–æ–≤—ñ –ø—ñ–¥—Ö–æ–¥–∏. –ú–µ–¥ –≤—ñ–¥–∫–∞—á—É—î–º–æ –≤ —Å–µ–∑–æ–Ω —ñ –ø—Ä–æ–¥–∞—î–º–æ –Ω–∞–ø—Ä—è–º—É –±–µ–∑ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫—ñ–≤.</p>
        <ul class="check">
          <li><span class="k">‚úì</span> –ù–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç –±–µ–∑ –¥–æ–º—ñ—à–æ–∫</li>
          <li><span class="k">‚úì</span> –ß–µ—Å–Ω–∞ –≤–∞–≥–∞ –π —á–∏—Å—Ç—ñ –±–∞–Ω–∫–∏</li>
          <li><span class "k">‚úì</span> –î–µ–≥—É—Å—Ç–∞—Ü—ñ—è –ø—Ä–∏ —Å–∞–º–æ–≤–∏–≤–æ–∑—ñ</li>
          <li><span class="k">‚úì</span> –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å—ñ–π –£–∫—Ä–∞—ó–Ω—ñ</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- –ß–æ–º—É –º–∏ -->
  <section class="container" id="why">
    <h2>–ß–æ–º—É —Å–∞–º–µ –Ω–∞—à –º–µ–¥</h2>
    <div class="grid">
      <div class="col-4 card"><h3 style="margin-top:0">–ü—Ä—è–º–æ –∑ –ø–∞—Å—ñ–∫–∏</h3><p class="muted">–ö—É–ø—É—î—Ç–µ —É –≤–∏—Ä–æ–±–Ω–∏–∫–∞, –∞ –Ω–µ —É –ø–µ—Ä–µ–∫—É–ø—ñ–≤.</p></div>
      <div class="col-4 card"><h3 style="margin-top:0">–°—Ç–∞–±—ñ–ª—å–Ω–∞ —è–∫—ñ—Å—Ç—å</h3><p class="muted">40 —Ä–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É ‚Äî –ø–æ—Ä—è–¥–æ–∫ —É –≤—É–ª–∏–∫–∞—Ö —ñ –∞–∫—É—Ä–∞—Ç–Ω—ñ—Å—Ç—å —É –∫–æ–∂–Ω—ñ–π –±–∞–Ω—Ü—ñ.</p></div>
      <div class="col-4 card"><h3 style="margin-top:0">–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞ —Ü—ñ–Ω–∞</h3><p class="muted">–ë–µ–∑ –æ—Ä–µ–Ω–¥–∏ –º–∞–≥–∞–∑–∏–Ω—ñ–≤ —ñ –∑–∞–π–≤–æ—ó –Ω–∞—Ü—ñ–Ω–∫–∏.</p></div>
    </div>
  </section>

  <!-- Drawer –∫–æ—à–∏–∫–∞ -->
  <div id="cartDrawer" aria-hidden="true" style="position:fixed; inset:0; z-index:1000; display:none;">
    <div id="cartBackdrop" style="position:absolute; inset:0; background:rgba(0,0,0,.45);"></div>
    <aside style="position:absolute; right:0; top:0; bottom:0; width:min(420px, 92vw); background:#fff; box-shadow:-10px 0 30px rgba(0,0,0,.15); padding:16px; overflow:auto">
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <h3 style="margin:0">–í–∞—à –∫–æ—à–∏–∫</h3>
        <button id="cartClose" class="btn btn-secondary" style="background:#fff;color:#111;border:1px solid #ddd;">‚úï</button>
      </div>
      <div id="cartList" style="margin-top:12px;display:grid;gap:10px"></div>
      <div id="cartEmpty" class="muted" style="text-align:center;padding:20px 6px;display:none;">–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π. –î–æ–¥–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ü—ñ—é ‚ù§Ô∏è</div>
      <div id="cartSummary" style="margin-top:12px;border-top:1px solid #eee;padding-top:12px;display:none">
        <div class="summary-row"><span class="summary-label">–¢–æ–≤–∞—Ä—ñ–≤</span><span id="cartItemsCount" class="summary-value">0</span></div>
        <div class="summary-row total"><span>–†–∞–∑–æ–º</span><span id="cartTotal" class="summary-value">‚Ç¥0</span></div>
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px;">
          <button id="cartClear" class="btn-secondary">–û—á–∏—Å—Ç–∏—Ç–∏</button>
          <a id="cartCheckout" href="order.html" class="btn">–û—Ñ–æ—Ä–º–∏—Ç–∏</a>
        </div>
      </div>
    </aside>
  </div>
</main>

<footer class="container">
  ¬© <span id="y"></span> med_ok. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω–æ.
</footer>

<!-- –°–∫—Ä–∏–ø—Ç–∏ -->
<script>
  // –ü–æ—Ç–æ—á–Ω–∏–π —Ä—ñ–∫ —É —Ñ—É—Ç–µ—Ä—ñ
  document.getElementById('y').textContent = new Date().getFullYear();

  // –ë—É—Ä–≥–µ—Ä/–º–µ–Ω—é
  (function(){
    const toggle = document.getElementById('menu-toggle');
    const nav = document.getElementById('primary-nav');
    if (!toggle || !nav) return;
    const close = () => { nav.dataset.open='false'; toggle.setAttribute('aria-expanded','false'); toggle.classList.remove('is-open'); nav.setAttribute('aria-hidden','true'); };
    const open  = () => { nav.dataset.open='true';  toggle.setAttribute('aria-expanded','true');  toggle.classList.add('is-open');  nav.setAttribute('aria-hidden','false'); };
    close();
    toggle.addEventListener('click', () => (nav.dataset.open==='true'?close():open()));
    nav.querySelectorAll('a,button').forEach(el => el.addEventListener('click', close));
    document.addEventListener('click', (e)=>{ if(nav.dataset.open!=='true')return; if(nav.contains(e.target)||toggle.contains(e.target))return; close(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });
    function syncDesktop(){
      if (window.matchMedia('(min-width: 900px)').matches){
        nav.dataset.open = 'true';
        nav.removeAttribute('aria-hidden');
        toggle && toggle.classList.remove('is-open');
        toggle && toggle.setAttribute('aria-expanded','false');
      }
    }
    syncDesktop();
    window.addEventListener('resize', syncDesktop);
  })();

  // –°–ª–∞–π–¥–µ—Ä
  (function(){
    const slides = Array.from(document.querySelectorAll('.hero-slider .slide'));
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    if (!slides.length) return;
    const AUTOPLAY_MS = 3000;
    const ANIM_MS = 650;
    let i = 0, isAnimating = false, autoplayId = null;
    const show = (idx) => {
      if (isAnimating || idx === i) return;
      isAnimating = true;
      slides.forEach((s, k) => s.classList.toggle('active', k === idx));
      i = idx;
      setTimeout(()=>{ isAnimating = false; }, ANIM_MS);
    };
    const next = () => show((i + 1) % slides.length);
    const prev = () => show((i - 1 + slides.length) % slides.length);
    const schedule = () => {
      clearTimeout(autoplayId);
      autoplayId = setTimeout(function tick(){
        next();
        autoplayId = setTimeout(tick, AUTOPLAY_MS);
      }, AUTOPLAY_MS);
    };
    const restart = () => { clearTimeout(autoplayId); schedule(); };
    prevBtn && prevBtn.addEventListener('click', () => { prev(); restart(); });
    nextBtn && nextBtn.addEventListener('click', () => { next(); restart(); });
    schedule();
  })();

  // –ö–æ—à–∏–∫: –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ UI (localStorage)
  const CART_KEY = 'medok_cart_v1';
  const PRICES = {
    '–ê–∫–∞—Ü—ñ—è':       { '0.5':170,  '1':300, '2':560, '3':810, '4':1040, '5':1250 },
    '–õ–∏–ø–æ–≤–∏–π':      { '0.5':150,  '1':260, '2':480, '3':690, '4':880,  '5':1050 },
    '–†—ñ–∑–Ω–æ—Ç—Ä–∞–≤‚Äô—è':  { '0.5':140,  '1':240, '2':440, '3':630, '4':800,  '5':960  },
    '–°–æ–Ω—è—à–Ω–∏–∫–æ–≤–∏–π': { '0.5':130,  '1':220, '2':400, '3':570, '4':720,  '5':860  },
  };
  function loadCart(){ try{ return JSON.parse(localStorage.getItem(CART_KEY)) || []; }catch{ return []; } }
  function saveCart(items){ localStorage.setItem(CART_KEY, JSON.stringify(items)); window.dispatchEvent(new CustomEvent('cart:changed')); }
  function addToCart(type, qtyLiters){
    const items = loadCart();
    const key = `${type}|${qtyLiters}`;
    const price = PRICES?.[type]?.[String(qtyLiters)];
    if(!price){ alert('–ù–µ–º–∞—î —Ü—ñ–Ω–∏ –¥–ª—è —Ç–∞–∫–æ–≥–æ –æ–±‚Äô—î–º—É. –ó–º—ñ–Ω—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å.'); return; }
    const ex = items.find(i=>i.key===key);
    if(ex){ ex.count += 1; } else { items.push({ key, type, qty: String(qtyLiters), price, count: 1 }); }
    saveCart(items);
    // —Ç–æ—Å—Ç
    const toast = document.createElement('div'); toast.className='toast show'; toast.textContent='–î–æ–¥–∞–Ω–æ –≤ –∫–æ—à–∏–∫';
    document.body.appendChild(toast);
    setTimeout(()=>{ toast.classList.remove('show'); setTimeout(()=>toast.remove(), 200); }, 1000);
  }
  function removeOne(key){ const items=loadCart(); const ex=items.find(i=>i.key===key); if(!ex)return; ex.count--; if(ex.count<=0){ items.splice(items.findIndex(i=>i.key===key),1); } saveCart(items); }
  function addOne(key){ const items=loadCart(); const ex=items.find(i=>i.key===key); if(!ex)return; ex.count++; saveCart(items); }
  function deleteLine(key){ saveCart(loadCart().filter(i=>i.key!==key)); }
  function clearCart(){ saveCart([]); }
  // UI
  const cartBtn = document.getElementById('cartBtn');
  const cartQtyBadge = document.getElementById('cartQtyBadge');
  const cartDrawer = document.getElementById('cartDrawer');
  const cartBackdrop = document.getElementById('cartBackdrop');
  const cartClose = document.getElementById('cartClose');
  const cartList = document.getElementById('cartList');
  const cartEmpty = document.getElementById('cartEmpty');
  const cartSummary = document.getElementById('cartSummary');
  const cartItemsCount = document.getElementById('cartItemsCount');
  const cartTotal = document.getElementById('cartTotal');
  const cartClearBtn = document.getElementById('cartClear');
  function formatUAH(n){ return '‚Ç¥' + (n||0).toLocaleString('uk-UA'); }
  function renderCart(){
    const items = loadCart();
    const totalCount = items.reduce((s,i)=>s+i.count,0);
    if(cartQtyBadge){
      cartQtyBadge.style.display = totalCount>0 ? 'inline-block' : 'none';
      cartQtyBadge.textContent = totalCount;
    }
    if(!cartList) return;
    cartList.innerHTML='';
    if(items.length===0){ cartEmpty.style.display='block'; cartSummary.style.display='none'; return; }
    cartEmpty.style.display='none'; cartSummary.style.display='block';
    items.forEach(i=>{
      const lineTotal = i.price*i.count;
      const el = document.createElement('div');
      el.className='card';
      el.style.display='grid';
      el.style.gap='8px';
      el.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:8px;">
          <div>
            <div style="font-weight:800">${i.type}</div>
            <div class="muted">${i.qty} –ª ‚Äî ${formatUAH(i.price)} / —à—Ç</div>
          </div>
          <button data-del="${i.key}" class="btn-secondary" title="–í–∏–¥–∞–ª–∏—Ç–∏" style="background:#fff;border:1px solid #ddd;">üóë</button>
        </div>
        <div style="display:flex;align-items:center;justify-content:space-between;">
          <div>
            <button data-minus="${i.key}" class="btn-secondary" style="padding:6px 10px;">‚àí</button>
            <span style="display:inline-block;min-width:28px;text-align:center;font-weight:800">${i.count}</span>
            <button data-plus="${i.key}" class="btn-secondary" style="padding:6px 10px;">+</button>
          </div>
          <div style="font-weight:800">${formatUAH(lineTotal)}</div>
        </div>`;
      cartList.appendChild(el);
    });
    cartItemsCount.textContent = totalCount;
    const total = items.reduce((s,i)=>s+i.price*i.count,0);
    cartTotal.textContent = formatUAH(total);
  }
  function openCart(){ cartDrawer.style.display='block'; }
  function closeCart(){ cartDrawer.style.display='none'; }
  cartBtn && cartBtn.addEventListener('click', openCart);
  cartBackdrop && cartBackdrop.addEventListener('click', closeCart);
  cartClose && cartClose.addEventListener('click', closeCart);
  cartClearBtn && cartClearBtn.addEventListener('click', ()=>{ if(confirm('–û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫?')) clearCart(); });
  cartList && cartList.addEventListener('click', (e)=>{
    const plus = e.target.closest('[data-plus]'); const minus = e.target.closest('[data-minus]'); const del = e.target.closest('[data-del]');
    if(plus){ addOne(plus.getAttribute('data-plus')); }
    if(minus){ removeOne(minus.getAttribute('data-minus')); }
    if(del){ deleteLine(del.getAttribute('data-del')); }
  });
  window.addEventListener('cart:changed', renderCart);
  renderCart();

  // –î–æ–¥–∞—Ç–∏ –¥–æ –∫–æ—à–∏–∫–∞
  document.querySelectorAll('.addToCart').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const type = btn.dataset.type;
      const qty = btn.dataset.qty || '1';
      addToCart(type, qty);
    });
  });

  // Scroll reveal
  (function(){
    const els = document.querySelectorAll('.reveal');
    if(!('IntersectionObserver' in window) || !els.length){ els.forEach(e=>e.classList.add('in')); return; }
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('in'); io.unobserve(en.target); } });
    }, { rootMargin: '0px 0px -10% 0px' });
    els.forEach(e=>io.observe(e));
  })();
</script>
</body>
</html>
